trigger addcontact on Contact (after insert,after delete) {
    set <id> ids = new set<id>();
    for(contact con:trigger.new){
        ids.add(con.AccountId);
         }
    list<Account>alist =[select id,(select id from contacts) from Account Where id IN:ids];
    Map<String,Integer> acMap = new Map<String,Integer>();
    for(Account ac : alist){
        acMap.put(ac.id,ac.contacts.size());
    }
    list<Account> aclist = new list<Account>();
    for(Account acc : alist){
        acc.count__c = acMap.get(acc.id);
        aclist.add(acc);//  
    }
    update aclist;

}
